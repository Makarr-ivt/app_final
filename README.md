# Project Management System

Система управления проектами и задачами с разделением ролей на менеджеров и работников.

## Предварительные требования

Перед установкой проекта убедитесь, что на вашем компьютере установлено следующее программное обеспечение:

1. Python 3.8 или выше
2. PostgreSQL 12 или выше
3. pgAdmin 4 (для удобного управления базой данных)

## Установка и настройка

### 1. Клонирование репозитория

```bash
git clone <url-репозитория>
cd app_final
```

### 2. Создание и активация виртуального окружения

#### Windows
```bash
python -m venv venv
venv\Scripts\activate
```

#### Linux/MacOS
```bash
python3 -m venv venv
source venv/bin/activate
```

### 3. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 4. Настройка базы данных

1. Откройте pgAdmin
2. Создайте новую базу данных
3. Откройте Query Tool (инструмент запросов) для созданной базы данных
4. Последовательно выполните SQL-скрипты из папки `sql` в следующем порядке:
   - `enum_types.sql` - создание пользовательских типов
   - `tables.sql` - создание таблиц
   - `indexes.sql` - создание индексов
   - Все остальные .sql файлы с функциями

### 5. Настройка переменных окружения

1. Создайте файл `.env` в корневой директории проекта
2. Скопируйте содержимое файла `.env.example` в `.env`
3. Заполните все необходимые значения:
   - Данные для подключения к базе данных
   - Секретный ключ Django
   - Другие настройки окружения

### 6. Применение миграций Django

```bash
python manage.py migrate auth
python manage.py migrate sessions
```

## Запуск проекта

1. Убедитесь, что виртуальное окружение активировано
2. Запустите сервер разработки:

```bash
python manage.py runserver
```

3. Откройте браузер и перейдите по адресу http://127.0.0.1:8000

## Основные функции

- Регистрация и аутентификация пользователей
- Создание и управление проектами (для менеджеров)
- Присоединение к проектам (для работников)
- Создание и назначение задач
- Отслеживание статуса задач и проектов
- Управление участниками проекта

## Роли пользователей

### Менеджер
- Создание проектов
- Управление участниками проекта
- Создание и назначение задач
- Изменение статуса проекта

### Работник
- Присоединение к проектам
- Взятие задач в работу
- Обновление статуса задач
- Просмотр проектов и задач

## Структура проекта

```
app_final/
├── app/                    # Основное приложение
│   ├── migrations/        # Миграции Django
│   ├── __pycache__/      # Кэш Python
│   ├── models.py         # Модели (User, Project, Task)
│   ├── views.py          # Представления и бизнес-логика
│   ├── forms.py          # Формы для обработки данных
│   ├── urls.py           # URL маршруты
│   ├── admin.py          # Настройки админ-панели
│   ├── apps.py           # Конфигурация приложения
│   ├── tests.py          # Тесты
│   └── __init__.py       # Инициализация пакета
│
├── project_management/    # Конфигурация проекта
│
├── sql/                  # SQL скрипты
│   ├── tables.sql        # Создание таблиц
│   ├── enum_types.sql    # Определение типов
│   ├── indexes.sql       # Индексы БД
│   ├── functions/        # SQL функции:
│   │   ├── register_user.sql
│   │   ├── create_project.sql
│   │   ├── create_task.sql
│   │   ├── join_project.sql
│   │   ├── leave_project.sql
│   │   ├── assign_task.sql
│   │   ├── update_project_status.sql
│   │   └── update_task_status.sql
│   └── test_data.sql     # Тестовые данные
│
├── static/               # Статические файлы
│   └── css/              # Стили для шаблонов
│
├── templates/            # HTML шаблоны
│   ├── base.html        # Базовый шаблон
│   ├── auth/            # Шаблоны аутентификации
│   │   ├── login.html
│   │   └── register.html
│   └── projects/        # Шаблоны проектов
│       ├── list.html
│       ├── detail.html
│       ├── create.html
│       └── create_task.html
│
├── .git/                # Git репозиторий
├── .gitignore          # Игнорируемые файлы Git
├── README.md           # Документация проекта
├── generate_passwords.py # Утилита для генерации паролей (для создания тестовых данных пользователей не вручную, а автоматически)
├── requirements.txt    # Зависимости проекта
├── manage.py          # Скрипт управления Django
└── venv/              # Виртуальное окружение Python
```
